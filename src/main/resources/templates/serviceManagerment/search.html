<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:include="common/head_info::head_infor"></div>
    <script type="text/javascript" th:src="@{../js/moment-with-locales.min.js}"></script>
    <script type="text/javascript" th:src="@{../js/bootstrap-datetimepicker.js}"></script>
    <script type="text/javascript" th:src="@{../js/bootstrap-datetimepicker.zh-CN.js}"></script>
    <link rel="stylesheet" type="text/css" th:href="@{../css/bootstrap-datetimepicker.css}">

    <form class="form-inline" id="repaymentForm">
        <div class="form-group">
            <label for="userId">用户ID</label>
            <input type="text" class="form-control" id="userId" name="userId" placeholder="用户ID">
        </div>
        <div class="form-group">
            <label for="orderId">订单ID</label>
            <input type="email" class="form-control" id="orderId" name="orderId" placeholder="订单ID">
        </div>
        <!--<div class="form-group">
                             <label for="datetimeStart">还款日期</label>
                             <input size="16" type="text" id="datetimeStart" readonly class="form_datetime">
                         </div>-->
        <div class="form-group">
            <label class="labe_l">还款日期:</label>
            <input type="text" class="" id="datetimeStart" name="startTime" readonly>
            --
            <input type="text" class="" id="datetimeEnd" name="endTime" readonly>

        </div>
        <span class="btn btn-default" onclick="search()" >查询</span>
    </form>

    <script type="text/javascript">
        function search(){
            $.ajax({
                url : "/service/repayment",
                type : "post",
                data : $("#repaymentForm").serialize(),
                dataType : "json",
                success : function(result) {
                    console.log(result);
                    var tbody = window.document.getElementById("repaymentData");
                    var datas=result.data;
                    console.log(datas);
                    var str="";
                    for (i in datas) {
                        str += "<tr>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "<td>" + datas[i].credOrderId + "</td>" +
                            "</tr>";
                        console.log(str);
                    }
                    tbody.innerHTML = str;
                }
            })
        }
    </script>

    <form>
        <div class="row">
            <div class="col-lg-5">
                <div class="panel panel-default" style="overflow:scroll;">
                    <div class="panel-heading">客户信息列表</div>
                    <table class="table table-bordered table-striped" align="center" style="min-width:800px;  empty-cells:show; border-collapse: collapse; margin:0 auto;">
                        <thead>
                        <tr>
                            <th th:width="20px">订单号</th>
                            <th th:width="20px">用户id</th>
                            <th th:width="40px">债权计划本金</th>
                            <th th:width="20px">计划利息</th>
                            <th th:width="20px">计划时间</th>
                            <th th:width="20px">红包信息</th>
                            <th th:width="50px">加息红包/返现红包</th>
                            <th th:width="20px">vip利率</th>
                            <th th:width="20px">vip收益</th>
                            <th th:width="20px">VIP期数</th>
                            <th th:width="20px">加息金额</th>
                            <th th:width="20px">加息期数</th>
                            <th th:width="60px">首购加息/限时加息/项目加息</th>
                        </tr>
                        </thead>
                        <tbody id="repaymentData">
                        </tbody>
                    </table>
                    <div class="col-md-12 text-right">
                    </div>
                </div>
            </div>
        </div>
        </div>
    </form>
    <script type="text/javascript">
        //日期插件初始化
        $('#datetimeStart').datetimepicker({
            language:  'zh-CN',
            format:'yyyy-mm-dd',
            weekStart: 1, /*以星期一为一星期开始*/
            todayBtn:  1,
            autoclose: 1,
            minView:2, /*精确到天*/
            pickerPosition: "bottom-left"
        }).on("changeDate",function(ev){  //值改变事件
            //选择的日期不能大于第二个日期控件的日期
            if(ev.date){
                $("#datetimeEnd").datetimepicker('setStartDate', new Date(ev.date.valueOf()));
            }else{
                $("#datetimeEnd").datetimepicker('setStartDate',null);
            }
        });
        $('#datetimeEnd').datetimepicker({
            language:  'zh-CN',
            format:'yyyy-mm-dd',
            weekStart: 1, /*以星期一为一星期开始*/
            todayBtn:  1,
            autoclose: 1,
            minView:2, /*精确到天*/
            pickerPosition: "bottom-left"
        }).on("changeDate",function(ev){
            /*选择的日期不能小于第一个日期控件的日期*/
            if(ev.date){
                $("#datetimeStart").datetimepicker('setEndDate', new Date(ev.date.valueOf()));
            }else{
                $("#datetimeStart").datetimepicker('setEndDate',new Date());
            }
        });
    </script>

</html>