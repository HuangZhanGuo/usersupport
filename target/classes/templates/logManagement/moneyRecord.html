<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="common/head_info::head_infor"></head>
<body>
<div >
<form class="navbar-form navbar-left" role="search">
    <div class="form-group">
        <input type="text" name="mobile" class="form-control" placeholder="手机号">
        <input type="text" name="type" class="form-control" placeholder="类型">
        <input type="text" name="starttime" class="form-control" placeholder="开始时间">--
        <input type="text" name="endtime" class="form-control" placeholder="结束时间">
    </div>
    <button type="button" class="btn btn-default">Submit</button>
</form>
<div class="panel panel-default"  style="width:100%;height:500px;overflow:auto;">
    <!-- Table -->
    <table class="table" style="width: auto;">
        <thead>
          <tr>
              <th>id</th>
              <th>资金汇入者id</th>
              <th>资金汇入者的昵称</th>
              <th>资金汇出者id</th>
              <th>资金汇出者的昵称</th>
              <th>资金汇出者的昵称</th>
              <th>此交易完成后的账户余额</th>
              <th>资金来往类型</th>
              <th>交易发生时间</th>
              <th>交易渠道</th>
              <th>交易备注</th>
              <th>关联的loanId</th>
              <th>借款标题</th>
              <th>标头像图片的路径</th>
              <th>外部序列号</th>
              <th>真名</th>
              <th>手机号</th>
          </tr>
        </thead>
        <tbody>
        <!--<tr th:each="list : ${lists}">-->
            <!--<th th:text="${list.id}"></th>-->
            <!--<th th:text="${list.name}"></th>-->
            <!--<th th:text="${list.age}"></th>-->
        <!--</tr>-->
        </tbody>
    </table>
</div>
</div>
<script>
    // $(function () {
    //     $.ajax({
    //         url:"list/init",
    //         type:"get",
    //         dataType:"json",
    //         success:function (json) {
    //             var str = "";
    //             alert(json[1].id);
    //             for (var i =0;i<json.length;i++){
    //                 str += '<tr>'
    //                 +'<th>'+json[i].id+'</th>'
    //                 +'<th>'+json[i].name+'</th>'
    //                 +'<th>'+json[i].age+'</th>'
    //                 +'</tr>';
    //             }
    //             $('tbody').html(str);
    //         }
    //     })
    // })
    $('[type="button"]').click(function () {
        $.ajax({
            url:"getMoneyRecord",
            type:"POST",
            dataType:"json",
            data:{mobile:$('[name="mobile"]').val(),type:$('[name="type"]').val(),starttime:$('[name="starttime"]').val(),endtime:$('[name="endtime"]').val()},
            success:function (json) {
                var str = "";
                for (var i =0;i<json.data.length;i++){
                    str += '<tr>'
                        +'<th>'+json.data[i].id+'</th>'
                        +'<th>'+json.data[i].touserid+'</th>'
                        +'<th>'+json.data[i].tousernickname+'</th>'
                        +'<th>'+json.data[i].fromuserid+'</th>'
                        +'<th>'+json.data[i].fromusernickname+'</th>'
                        +'<th>'+json.data[i].amount+'</th>'
                        +'<th>'+json.data[i].accountbalance+'</th>'
                        +'<th>'+json.data[i].tradetype+'</th>'
                        +'<th>'+json.data[i].tradetime+'</th>'
                        +'<th>'+json.data[i].tradechannel+'</th>'
                        +'<th>'+json.data[i].tradecomment+'</th>'
                        +'<th>'+json.data[i].loanid+'</th>'
                        +'<th>'+json.data[i].loantitle+'</th>'
                        +'<th>'+json.data[i].loanportraitpath+'</th>'
                        +'<th>'+json.data[i].outserialno+'</th>'
                        +'<th>'+json.data[i].realname+'</th>'
                        +'<th>'+json.data[i].mobile+'</th>'
                        +'</tr>';
                }
                $('tbody').html(str);
            }
        })
    })

</script>
</body>
</html>